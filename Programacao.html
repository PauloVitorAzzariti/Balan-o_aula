<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aula - Balan√ßo (Programa√ß√£o & Servo)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --accent-blue:#0077cc;
    --accent-pink:#e6007e;
    --accent-green:#66c24a;
    --bg:#ffffff;
    --text:#111;
    --card:#f7f9fc;
    --glass: rgba(255,255,255,0.85);
    --max-w:1100px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;background:var(--bg);color:var(--text);font-family:'Poppins',system-ui,Arial; margin:0}
  header{
    position:fixed;left:0;right:0;top:0;height:76px;
    display:flex;align-items:center;justify-content:space-between;
    padding:12px 28px;background:var(--glass);backdrop-filter: blur(6px);
    border-bottom:1px solid rgba(0,0,0,0.04); z-index:1000;
  }
  header .left{display:flex;align-items:center;gap:14px}
  header img{height:52px; width:auto}
  header h1{font-size:18px;margin:0;color:var(--accent-blue);font-weight:600;max-width:60vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .container{
    padding-top:110px;
    padding-bottom:110px;
    min-height:100vh;
    display:flex;align-items:center;justify-content:center;
  }
  .stage{
    width:94%;max-width:var(--max-w);
    position:relative;
    perspective:1200px;
  }

  /* Slide base */
  .slide{
    position:absolute;left:0;top:0;width:100%;min-height:70vh;
    background:var(--bg);border-radius:16px;padding:36px;
    box-shadow:0 12px 40px rgba(15,25,35,0.08);overflow:auto;
    transform-origin:center center;
    opacity:0;transform:translateX(20px) scale(.995);
    transition: all 640ms cubic-bezier(.2,.9,.2,1);
    will-change: transform, opacity;
  }
  .slide.active{opacity:1;transform:translateX(0) scale(1);z-index:10}
  .slide.out-left{opacity:0;transform:translateX(-30px) scale(.99)}
  .slide.out-right{opacity:0;transform:translateX(30px) scale(.99)}

  /* Layout inside slides */
  .row{display:flex;gap:22px;flex-wrap:wrap;align-items:flex-start}
  .col{flex:1 1 320px;min-width:240px}
  h2{color:var(--accent-pink);margin:6px 0 12px;font-size:26px}
  p{font-size:16px;line-height:1.6;color:var(--text);margin:0 0 12px}
  .note{background:linear-gradient(180deg,#f7fbff,#fff);border-left:5px solid var(--accent-blue);padding:12px;border-radius:10px;margin:12px 0}
  .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:14px;margin-top:12px;}
  .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.04);transition:all .25s;cursor:default}
  .card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.08);background:var(--accent-blue);color:#fff}
  .code{
    background:#0b1220;color:#d6f2ff;padding:14px;border-radius:10px;font-family:monospace;font-size:15px;line-height:1.5;
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);
  }

  /* interactive servo demo */
  .servo-wrap{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .servo{
    width:240px;height:240px;border-radius:50%;background:linear-gradient(180deg,#fff,#f2f7ff);
    display:flex;align-items:center;justify-content:center;position:relative;
    box-shadow:0 8px 30px rgba(6,20,60,0.06);
  }
  .servo .arm{
    width:8px;height:95px;background:linear-gradient(180deg,var(--accent-blue),#004b80);position:absolute;top:15px;left:50%;transform-origin:50% 90%;
    border-radius:6px 6px 3px 3px;box-shadow:0 6px 18px rgba(0,0,0,0.12)
  }
  .servo .hub{width:46px;height:46px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #fff, #d6eaff);border:4px solid #cfe9ff;box-shadow:inset 0 2px 6px rgba(0,0,0,0.06)}
  .controls-panel{min-width:240px;background:#fff;border-radius:10px;padding:12px;box-shadow:0 6px 20px rgba(0,0,0,0.04)}
  .range{width:100%}
  .inline{display:flex;gap:8px;align-items:center}
  label{font-size:13px;font-weight:600;color:#333}

  /* bottom controls */
  .nav{
    position:fixed;left:0;right:0;bottom:18px;display:flex;justify-content:center;gap:16px;z-index:1200;
  }
  .btn{
    background:var(--accent-blue);color:#fff;border:0;padding:12px 22px;border-radius:36px;font-weight:600;cursor:pointer;
    box-shadow:0 8px 22px rgba(0,100,160,0.12);transition:all .18s
  }
  .btn:hover{transform:translateY(-3px);background:#00629a}

  /* small helpers */
  .muted{color:#666;font-size:14px}
  .list{padding-left:18px;margin:8px 0}
  .center{display:flex;align-items:center;justify-content:center}

  @media (max-width:720px){
    header{padding:10px 16px}
    .container{padding-top:120px}
    .servo{width:180px;height:180px}
  }

  .card1{background:rgb(74, 144, 226);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.04);transition:all .25s;cursor:default}
  .card2{background: rgb(255, 171, 25);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.04);transition:all .25s;cursor:default}
  .card3{background:rgb(255, 191, 0);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,20,40,0.04);transition:all .25s;cursor:default}
  
</style>
</head>
<body>
  <header>
    <div class="left">
      <img src="img/Logo.png" alt="Logo Escola Viva">
      <div>
        <h1>Aula: Balan√ßo ‚Äî Programa√ß√£o & Servo (Demonstra√ß√£o)</h1>
        <div class="muted">Slides de apoio ‚Äî controle por servo (pino 8)</div>
      </div>
    </div>
    <div class="right muted">Professor: Paulo Vitor Azzariti</div>
  </header>

  <main class="container">
    <div class="stage" id="stage">

            <!-- Slide - Boas Vindas -->
      <section class="slide active" data-index="0" id="s-welcome">
        <div class="center" style="flex-direction:column;text-align:center;gap:20px">
          <img src="img/Logo.png" alt="Logo Escola Viva" style="height:120px;width:auto">
          <h2 style="font-size:32px;color:var(--accent-blue)">üëã Bem-vindos √† Aula 9 de Rob√≥tica!</h2>
          <p style="max-width:720px">
            Hoje vamos continuar nosso <strong>projeto do balan√ßo</strong>, mas agora
            explorando a <strong>programa√ß√£o</strong> do servo motor no Arduino Leonardo.  
            Vamos entender como <span style="color:var(--accent-pink);font-weight:600">√¢ngulos</span>,
            <span style="color:var(--accent-green);font-weight:600">repeti√ß√µes</span> e
            <span style="color:var(--accent-blue);font-weight:600">tempo</span>
            influenciam o movimento do nosso balan√ßo!
          </p>
          <div class="cards" style="margin-top:22px;max-width:720px">
            <div class="card">üéØ Objetivo: programar o servo para se mover em ciclos.</div>
            <div class="card">ü§ñ Ferramenta: Arduino Leonardo + mBlock.</div>
            <div class="card">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Trabalho em equipe: cada grupo testar√° varia√ß√µes.</div>
          </div>
          <div class="note" style="margin-top:24px">
            üö® Dica: mantenham a aten√ß√£o em cada etapa ‚Äî vamos usar tudo isso na pr√°tica!
          </div>
        </div>
      </section>


      <!-- Slide 0 - Intro -->
      <section class="slide active" data-index="0" id="s0">
        <h2>Introdu√ß√£o & Objetivos</h2>
        <p>Hoje vamos usar programa√ß√£o para mover o balan√ßo mec√¢nico com um <strong>servo motor</strong> e <strong>arduino leonardo</strong>. Vamos entender <strong>repeti√ß√µes</strong>, <strong>angula√ß√£o</strong> e <strong>tempo</strong>, e testar duas estrat√©gias:</p>
        <div class="cards" aria-hidden="false">
          <div class="card">üìå Repetir por N vezes (controlar tempo de a√ß√£o)</div>
          <div class="card">üîÅ Executar para sempre (loop cont√≠nuo)</div>
          <div class="card">‚öôÔ∏è Testar amplitudes diferentes (√¢ngulos)</div>
        </div>
        <div class="note" style="margin-top:18px">
           OBS: Prestem aten√ß√£o em cada detalhe dessa apresenta√ß√£o, ser√° muito importante para usarmos na hora da programa√ß√£o do banco.
        </div>
      </section>

      <!-- Slide 1 - Conceitos -->
      <section class="slide" data-index="1" id="s1">
        <h2>Conceitos essenciais</h2>
        <div class="row">
          <div class="col">
            <p><strong>For√ßa e gravidade:</strong> o balan√ßo converte energia potencial (quando sobe) em energia cin√©tica (quando desce). O servo aplica a for√ßa e velocidade para iniciar/alterar o movimento.</p>
            <p><strong>Amplitude & √Çngulo:</strong> quanto maior o √¢ngulo, maior a amplitude do movimento. Alterando os √¢ngulos voc√™ controla a amplitude do balan√ßo.</p>
            <p class="muted">Veremos na pr√°tica usando um simulador.</p>
          </div>
          <div class="col">
            <div class="note">
              <strong>Observa√ß√£o:</strong> precisamos ter todo cuidado poss√≠vel para n√£o for√ßamos o nosso servo motor.
            </div>
            <div style="height:12px"></div>
            <div class="card"><strong>Dicas de Seguran√ßa:</strong>Teste manualmente as engrenagens do projeto para terem certeza de que realmente est√° sendo poss√≠vel fazer o movimento do balan√ßo com o servo sem for√ßar.</div>
          </div>
        </div>
      </section>

      <!-- Slide 2 - C√≥digo finito -->
      <section class="slide" data-index="2" id="s2">
        <h2>Programa√ß√£o ‚Äî execu√ß√£o por tempo (repetir N vezes)</h2>
        <p>Exemplo did√°tico (mBlock / pseudoc√≥digo):</p>
        <pre class="code">when Arduino starts up
  repetir 15
    definir √¢ngulo do pino do servo 8 como 0
    esperar 0.5 segundos
    definir √¢ngulo do pino do servo 8 como 180
    esperar 0.5 segundos</pre>

        <p>Use esse modo quando quer limitar o tempo de movimento (ex.: teste controlado, economizar bateria).</p>

        <div class="note">No simulador: escolha <strong>Mode: Finito</strong> e defina <em>repeti√ß√µes</em> e <em>√¢ngulos</em>.</div>
      </section>

      <!-- Slide 3 - C√≥digo infinito -->
      <section class="slide" data-index="3" id="s3">
        <h2>Programa√ß√£o ‚Äî execu√ß√£o cont√≠nua (loop infinito)</h2>
        <p>Exemplo (mBlock / pseudoc√≥digo):</p>
        <pre class="code">when Arduino starts up
  para sempre
    definir √¢ngulo do pino do servo 8 como 0
    esperar 0.5 segundos
    definir √¢ngulo do pino do servo 8 como 180
    esperar 0.5 segundos</pre>

        <p>Esse modo √© usado para movimentos cont√≠nuos (ex.: ventiladores, mecanismos que funcionam sem interrup√ß√£o).</p>
        <div class="note">No projeto real, lembre que la√ßos infinitos requerem modos de parada seguros e considera√ß√µes de consumo.</div>
      </section>

      <!-- Slide 4 - Simulador -->
      <section class="slide" data-index="4" id="s4">
        <h2>Simulador interativo do servo</h2>
        <div class="row">
          <div class="col">
            <div class="servo-wrap">
              <div class="servo" id="servo">
                <div class="arm" id="servoArm" style="transform:rotate(-45deg)"></div>
                <div class="hub"></div>
              </div>
              <div class="controls-panel">
                <div class="inline">
                  <label for="mode">Mode:</label>
                  <select id="mode" style="margin-left:8px;padding:6px;border-radius:6px">
                    <option value="finite">Finito (repeti√ß√µes)</option>
                    <option value="infinite">Infinito (para sempre)</option>
                  </select>
                </div>
                <div style="height:10px"></div>
                <div>
                  <label>Repeti√ß√µes (quando finito)</label>
                  <input id="reps" type="number" min="1" value="15" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ddd">
                </div>
                <div style="height:10px"></div>
                <div>
                  <label>Amplitude (√¢ngulos)</label>
                  <div style="display:flex;gap:8px">
                    <input id="angleMin" class="range" type="number" value="0" min="0" max="180" style="flex:1;padding:6px;border-radius:8px;border:1px solid #ddd">
                    <input id="angleMax" class="range" type="number" value="180" min="0" max="180" style="flex:1;padding:6px;border-radius:8px;border:1px solid #ddd">
                  </div>
                </div>
                <div style="height:10px"></div>
                <div>
                  <label>Delay (segundos)</label>
                  <input id="delay" type="number" min="0.05" step="0.05" value="0.5" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ddd">
                </div>
                <div style="height:12px"></div>
                <div style="display:flex;gap:8px">
                  <button class="btn" id="startDemo">‚ñ∂ Iniciar</button>
                  <button class="btn" id="stopDemo" style="background:#f05a5a">‚ñ† Parar</button>
                </div>
                <div style="height:8px"></div>
                <div class="muted" id="demoStatus">Status: parado</div>
              </div>
            </div>
          </div>

          <div class="col">
            <p><strong>Como usar:</strong></p>
            <ul class="list">
              <li>Escolha o modo: <em>Finito</em> (repete N vezes) ou <em>Infinito</em>.</li>
              <li>Defina <strong>√¢ngulos m√≠nimos e m√°ximos</strong> ‚Äî ex.: 0 e 180 (amplitude m√°xima) ou 30 e 150 (amplitude reduzida).</li>
              <li>Defina o <strong>delay</strong> entre movimentos (0.2s, 0.5s, 1s etc.).</li>
              <li>Pressione <strong>Iniciar</strong> para ver o bra√ßo oscilando no simulador.</li>
            </ul>
            <div class="note">
              Use o simulador antes do teste real: √© uma forma segura de ver o comportamento do c√≥digo.
            </div>
          </div>
        </div>
      </section>

      <!-- Slide 5 - Testes e an√°lise -->
      <section class="slide" data-index="5" id="s5">
        <h2>Atividades PR√ÅTICAS</h2>
        <p>Testes de √¢ngulo e an√°lise:</p>
        <ul class="list">
          <li>Testar 0¬∞‚Äì180¬∞ e registrar tempo, velocidade aparente e estabilidade.</li>
          <li>Testar 30¬∞‚Äì150¬∞ e comparar amplitude e esfor√ßo necess√°rio.</li>
          <li>Reduzir intervalo (delay) para aumentar frequ√™ncia ‚Äî observar vibra√ß√£o e limites do servo.</li>
        </ul>
        <BR></BR>
        <h2>EVENTOS - BLOCO LARANJA CLARO</h2>
        <div class="cards">
          <div class="card3">when arduino starts up</div>
        </div>

        <h2>CONTROLO - BLOCO LARANJA ESCUR</h2>
        <div class="cards">
          <div class="card2">Esperar ( ) segundos</div>
          <div class="card2">Repetir ( )</div>
        </div>

        <h2>PIN - BLOCO AZUL CLARO</h2>
        <div class="cards">
          <div class="card1">Definir pino do angulo do servo ( ) como</div>
        </div>
      </section>


      <!-- Slide 6 - Encerramento -->
      <section class="slide" data-index="8" id="s8">
        <h2>Conclus√£o & Pr√≥ximos passos</h2>
        <p>Hoje vamos ver na pr√°tica como um servo pode controlar o movimento do balan√ßo usando repeti√ß√µes e √¢ngulos e exemplos simples de programa√ß√£o dentro do mBlock. Pr√≥xima aula: Iresmos montar o nosso segundo projeo que ser√° uma gangorra evoluindo para montagens n√≠vel 2.</p>
        <div style="height:12px"></div>
        <div class="note">OBS: A cada aula iremos evoluir nos projetos ent√£o n√£o faltem.</div>
      </section>

    </div>
  </main>

  <div class="nav">
    <button class="btn" id="prevBtn">‚¨Ö Anterior</button>
    <button class="btn" id="nextBtn">Pr√≥ximo ‚û°</button>
  </div>

<script>
  (function(){
    // slide navigation
    const slides = Array.from(document.querySelectorAll('.slide'));
    let index = 0;
    function show(i){
      slides.forEach((s,idx)=>{
        s.classList.remove('active','out-left','out-right');
        if(idx < i) s.classList.add('out-left');
        if(idx > i) s.classList.add('out-right');
      });
      slides[i].classList.add('active');
      index = i;
      // scroll top of active slide
      slides[i].scrollTop = 0;
    }
    document.getElementById('prevBtn').addEventListener('click', ()=> show((index-1+slides.length)%slides.length));
    document.getElementById('nextBtn').addEventListener('click', ()=> show((index+1)%slides.length));
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight') show((index+1)%slides.length);
      if(e.key === 'ArrowLeft') show((index-1+slides.length)%slides.length);
    });

    // servo demo logic
    const arm = document.getElementById('servoArm');
    const start = document.getElementById('startDemo');
    const stop = document.getElementById('stopDemo');
    const modeSel = document.getElementById('mode');
    const repsInput = document.getElementById('reps');
    const delayInput = document.getElementById('delay');
    const angleMin = document.getElementById('angleMin');
    const angleMax = document.getElementById('angleMax');
    const status = document.getElementById('demoStatus');

    let demoTimer = null;
    let running = false;

    function rotateArm(angle){
      // servo arm expects range -90 to +90 visually; map 0-180 -> -90..90
      const vis = (angle - 90);
      arm.style.transition = 'transform 180ms linear';
      arm.style.transform = `rotate(${vis}deg)`;
    }

    async function sleep(ms){ return new Promise(res=>setTimeout(res,ms)); }

    async function runFinite(reps){
      status.textContent = `Status: executando (${reps} rep.)`;
      for(let i=0;i<reps && running;i++){
        rotateArm(parseFloat(angleMin.value));
        await sleep(Math.max(30, parseFloat(delayInput.value)*1000));
        if(!running) break;
        rotateArm(parseFloat(angleMax.value));
        await sleep(Math.max(30, parseFloat(delayInput.value)*1000));
      }
      running = false;
      status.textContent = 'Status: parado';
    }

    async function runInfinite(){
      status.textContent = 'Status: executando (infinito)';
      while(running){
        rotateArm(parseFloat(angleMin.value));
        await sleep(Math.max(30, parseFloat(delayInput.value)*1000));
        if(!running) break;
        rotateArm(parseFloat(angleMax.value));
        await sleep(Math.max(30, parseFloat(delayInput.value)*1000));
      }
      status.textContent = 'Status: parado';
    }

    start.addEventListener('click', ()=>{
      if(running) return;
      running = true;
      const mode = modeSel.value;
      if(mode === 'finite'){
        const r = Math.max(1, parseInt(repsInput.value)||1);
        runFinite(r);
      } else {
        runInfinite();
      }
    });

    stop.addEventListener('click', ()=>{ running=false; status.textContent='Status: parado' });

    // quick demo: allow clicking on slide 4 to start with defaults
    document.querySelectorAll('.slide').forEach(s=>{
      s.addEventListener('touchstart', ()=>{}, {passive:true});
    });

    // initialize arm at mid
    rotateArm(90);

    // ensure proper initial visibility
    show(0);

  })();
</script>
</body>
</html>
